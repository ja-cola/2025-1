#include <stdio.h>

char board[3][3];

// 보드 초기화
void initBoard() {
    for(int i=0; i<3; i++)
        for(int j=0; j<3; j++)
            board[i][j] = ' ';
}

// 보드 출력
void printBoard() {
    printf("  0   1   2\n");
    for(int i=0; i<3; i++) {
        printf("%d %c | %c | %c \n", i, board[i][0], board[i][1], board[i][2]);
        if(i!=2) printf(" ---|---|---\n");
    }
}

// 승리 확인
int checkWin(char p) {
    for(int i=0; i<3; i++) {
        if(board[i][0]==p && board[i][1]==p && board[i][2]==p) return 1;
        if(board[0][i]==p && board[1][i]==p && board[2][i]==p) return 1;
    }
    if(board[0][0]==p && board[1][1]==p && board[2][2]==p) return 1;
    if(board[0][2]==p && board[1][1]==p && board[2][0]==p) return 1;
    return 0;
}

int main() {
    int x, y, turn = 0;
    initBoard();
    
    while(turn < 9) {
        printBoard();
        char player = (turn % 2 == 0) ? 'O' : 'X';
        printf("플레이어 %c의 차례 (행 열): ", player);
        scanf("%d %d", &x, &y);

        if(x<0 || x>2 || y<0 || y>2 || board[x][y] != ' ') {
            printf("잘못된 위치입니다. 다시 입력하세요.\n");
            continue;
        }

        board[x][y] = player;
        if(checkWin(player)) {
            printBoard();
            printf("플레이어 %c 승리!\n", player);
            return 0;
        }
        turn++;
    }
    printBoard();
    printf("무승부입니다!\n");
    return 0;
}
